<Window x:Class="Agt.Desktop.Views.CaseRunWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Case Run" Height="720" Width="1080" WindowStartupLocation="CenterOwner"
        Background="{StaticResource AppBgBrush}">

    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Agt.Desktop;component/Views/Components/ComponentTemplates.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>

    <DockPanel>
        <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="12">
            <TextBlock Text="Case:" Style="{StaticResource LabelBase}" VerticalAlignment="Center" Margin="0,0,8,0"/>
            <TextBlock Text="{Binding CaseId}" VerticalAlignment="Center"/>
            <Button Content="Uložit" Margin="16,0,0,0" Padding="10,6" Click="OnSaveClick"/>
            <Button Content="Zavřít" Margin="8,0,0,0" Padding="10,6" Click="OnCloseClick"/>
        </StackPanel>

        <!-- Placeholder: host pro dynamické komponenty -->
        <ScrollViewer Margin="12">
            <ItemsControl ItemsSource="{Binding Fields}">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Grid Style="{StaticResource FieldContainer}">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="12"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Column="0"
                                       Text="{Binding Label}"
                                       Style="{StaticResource LabelBase}"/>

                            <ContentPresenter Grid.Column="2" Content="{Binding}"/>
                        </Grid>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>
    </DockPanel>
</Window>
