<Window x:Class="Agt.Desktop.Views.BlocksEditorWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Blocks Editor" Height="720" Width="1100" WindowStartupLocation="CenterScreen">
  <Grid>
    <Grid.ColumnDefinitions>
      <ColumnDefinition Width="280"/>
      <ColumnDefinition Width="*"/>
    </Grid.ColumnDefinitions>
    <Grid.RowDefinitions>
      <RowDefinition Height="48"/>
      <RowDefinition Height="*"/>
      <RowDefinition Height="28"/>
    </Grid.RowDefinitions>

    <!-- Toolbar -->
    <StackPanel Orientation="Horizontal" Grid.ColumnSpan="2" VerticalAlignment="Center" Margin="8,4">
      <Button Content="Nový blok" Margin="0,0,8,0" Click="NewBlock_OnClick"/>
      <Button Content="Uložit JSON" Margin="0,0,8,0" Click="SaveJson_OnClick"/>
      <Button Content="Načíst JSON" Margin="0,0,8,0" Click="LoadJson_OnClick"/>
      <Separator Width="12"/>
      <Button Content="Auto layout" Margin="0,0,8,0" Click="AutoLayout_OnClick"/>
      <Button Content="Zoom +" Margin="0,0,8,0" Click="GridPlus_OnClick"/>
      <Button Content="Zoom −" Margin="0,0,8,0" Click="GridMinus_OnClick"/>
      <Button Content="Zavřít" Margin="0,0,8,0" Click="Exit_OnClick"/>
      <TextBlock Text="{Binding StatusText}" Margin="12,0,0,0" VerticalAlignment="Center"/>
    </StackPanel>

    <!-- Palette -->
    <Grid Grid.Row="1" Grid.Column="0">
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="*"/>
      </Grid.RowDefinitions>
      <TextBox x:Name="PaletteFilter" Margin="8" VerticalContentAlignment="Center" TextChanged="PaletteFilter_TextChanged"/>
      <ListBox x:Name="PaletteList" Grid.Row="1" Margin="8" DisplayMemberPath="Title"
               MouseDoubleClick="PaletteList_MouseDoubleClick"/>
    </Grid>

    <!-- Design surface -->
    <ScrollViewer Grid.Row="1" Grid.Column="1" HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto"
                  Background="#FFF7F7F7" PreviewMouseLeftButtonDown="Canvas_MouseLeftButtonDown"
                  PreviewMouseLeftButtonUp="Canvas_MouseLeftButtonUp" PreviewMouseMove="Canvas_MouseMove">
      <Canvas x:Name="DesignCanvas" Width="2000" Height="1500" Background="White"/>
    </ScrollViewer>

    <!-- Status bar -->
    <Border Grid.Row="2" Grid.ColumnSpan="2" Background="#11000000">
      <DockPanel>
        <TextBlock Margin="8,4" Text="{Binding StatusText}"/>
      </DockPanel>
    </Border>
  </Grid>
</Window>
